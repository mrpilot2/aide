ADD_LIBRARY(aide SHARED)

TARGET_SOURCES(aide
  PRIVATE
    application.cpp
)

TARGET_INCLUDE_DIRECTORIES(aide
  INTERFACE
    $<BUILD_INTERFACE:${PROJECT_SOURCE_DIR}/incl>
    $<INSTALL_INTERFACE:include/>
  PRIVATE
    ${PROJECT_SOURCE_DIR}/incl/aide
)

TARGET_LINK_LIBRARIES(aide
  PUBLIC
    Qt5::Widgets
)

TARGET_COMPILE_FEATURES(aide
  PRIVATE
    cxx_generalized_initializers
)

IF(ENABLE_COVERAGE)
  TARGET_COMPILE_OPTIONS(aide PRIVATE -g -O0 --coverage)
  TARGET_LINK_LIBRARIES(aide PRIVATE --coverage)
ENDIF()
